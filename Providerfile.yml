provider:
  name: putenv-vsphere
  version: 0.1.0.pre
  location: https://github.com/ActiveSCM/putenv-vsphere.git
  structure:

    platform:
      path:
      references:
        - vcenter
        - compute
        - network
      params:
        environments:
          array:
            type: string
            match: 'regex'
        nodename:
          array:
            type: string
            match: 'regex'
        _pools:
          count:
            type: integer
            range: 1..100
          runlist:
            array:
              type: string
              match: 'regex'
          componentrole:
            type: string
            match: 'regex'
          compute:
            type: string
            match: 'regex'
          network:
            type: string
            match: 'regex'
          vcenter:
            type: string
            match: 'regex'
        components:
          default:
            <<:
              type: string
              match: 'regex'

    vcenters:
      path: 'infrastrucure/'
      references:
      params:
        location:
          type: string
          match: 'regex'
        host:
          type: string
          match: 'regex'
        datacenter:
          type: string
          match: 'regex'
        imagefolder:
          type: string
          match: 'regex'
        destfolder:
          type: string
          match: 'regex'
        resourcepool:
          type: string
          match: 'regex'
        datastore:
          type: string
          match: 'regex'
        domain:
          type: string
          match: 'regex'
        envsubdomain:
          type: boolean
        dnsips:
          array:
            type: IP

    networks:
      path: 'infrastructure/'
      references:
      params:
        vlanid:
          type: string
          match: 'regex'
        gateway:
          type: IP
        netmask:
          type: integer
          range: 1..24

    computes:
      path: 'infrastructure/'
      references:
      params:
        ram:
          type: integer
          range: 128..262144
        cpu:
          type: integer
          range: 1..16
        drive:
          hash:
            mount:
              type: string
              match: 'regex'
            capacity:
              type: integer
              range: 8..2048
        image:
          type: string
          match: 'regex'
